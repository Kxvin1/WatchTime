extends layout.pug

block content
    h1 #{username}'s Watch List
    table
        thead
            tr
                th.watchColor
                th Image
                th Movie Title
                th Genre
                th Watch Status
                th.buttons
                th.edit.hidden
        tbody
            each movie in planToWatchMoviesShelf
                input(type='hidden' name='movieId' value=movie.id)
                input(type='hidden' name='shelfId' value=planToWatchMoviesShelfId)
                tr(id=`movie-${movie.id}`)
                    td.planToWatchColor
                    td
                        a(href=`/movies/${movie.id}`)
                          img(src=movie.image)
                    td= movie.title
                    td= genres[movie.genreId - 1].genre
                    td= watchStatus[0]
                    td
                        button.edit(id=`${movie.id}` type='button' name='editBtn') Edit
                        button.delete(type='button' name='deleteBtn') Delete
                    td.dropdown.hidden(id=`select-${movie.id}`)
                        select.watchlist-option(name="watchStatus" required=true)
                            option(value='') Please Select a Watch Status
                            option(id=`option-1-${movie.id}` name='Plan to Watch' value='Plan to Watch') Plan to Watch
                            option(id=`option-2-${movie.id}` name='Watching' value='Watching') Watching
                            option(id=`option-3-${movie.id}` name='Have Watched' value='Have Watched') Have Watched
            each movie in watchingMoviesShelf
                input(type='hidden' name='movieId' value=movie.id)
                input(type='hidden' name='shelfId' value=watchingMoviesShelfId)
                tr(id=`movie-${movie.id}`)
                    td.watchingColor
                    td
                        a(href=`/movies/${movie.id}`)
                           img(src=movie.image)
                    td= movie.title
                    td= genres[movie.genreId - 1].genre
                    td= watchStatus[1]
                    td
                        button.edit(id=`${movie.id}` type='button' name='editBtn') Edit
                        button.delete(type='button' name='deleteBtn') Delete
                    td.dropdown.hidden(id=`select-${movie.id}`)
                        select.watchlist-option(name="watchStatus" required=true)
                            option(value='') Please Select a Watch Status
                            option(name='Plan to Watch' value='Plan to Watch') Plan to Watch
                            option(name='Watching' value='Watching') Watching
                            option(name='Have Watched' value='Have Watched') Have Watched
            each movie in haveWatchedMoviesShelf
                input(type='hidden' name='movieId' value=movie.id)
                input(type='hidden' name='shelfId' value=haveWatchedMoviesShelfId)
                tr(id=`movie-${movie.id}`)
                    td.haveWatchedColor
                    td
                        a(href=`/movies/${movie.id}`)
                            img(src=movie.image)
                    td= movie.title
                    td= genres[movie.genreId - 1].genre
                    td= watchStatus[2]
                    td
                        button.edit(id=`${movie.id}` type='button' name='editBtn') Edit
                        button.delete(type='button' name='deleteBtn') Delete
                    td.dropdown.hidden(id=`select-${movie.id}`)
                        select.watchlist-option(name="watchStatus" required=true)
                            option(value='') Please Select a Watch Status
                            option(name='Plan to Watch' value='Plan to Watch') Plan to Watch
                            option(name='Watching' value='Watching') Watching
                            option(name='Have Watched' value='Have Watched') Have Watched
    script(src="/javascripts/watchlists.js")
